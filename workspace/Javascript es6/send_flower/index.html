<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>talk in js-代理模式</title>
</head>
<body>
    <script>
    // object 
    //描述的方式对象是怎样的就出来了
    //对象字面量 JSON Object
       const xsj = {
            name:'徐士杰',
            age: 22,
            single:true,
            hometown:'绍兴',
            room:1319,
            yz:84,
            //上面的属性
            //函数功能 行为 
            //target是一个形参
            sendFlower: function(target){
                //console.log(target.name);
                target.receiveFlower(xsj);
            }
       };
    const meimei = {
        name:'梅梅',
        age:17,
        mood: 50,
        receiveFlower:function(sender){
            if(meimei.mood > 80){
                console.log(meimei.name+'收花');
            }
            else{
                console.log(meimei.name+'拒绝');
            }
            //如果心情指数大于80，就收花，否则拒绝  if/else
         //if(sender.yz < 85){
         //    console.log('收到了花，但是没空，不可能有空');
         //}else{
            // console.log('备胎排队一下');
        // }
        },
        ListenGoodmood:function(){
        //心情不好
        //定时器
        meimei.receiveFlower();
        setTimeout(function(){
            //console.log('本公主心情变好了');
            meimei.mood=90;
            meimei.receiveFlower();
        },3000)
    }
}
// 送花 A->B A->C->B
// A 送花 send_flower
// C 收花 转送给B
// B 收花 receive_flower
const huahua = {
    name:'花花',
    //与梅梅实现了同样的接口
    receiveFlower:function(sender){
        //心情好，再送
        //meimei.receiveFlower(sender);
        //代理者，监听一下meimei的心情
        meimei.ListenGoodmood();
    }
}
   </script>
</body>
</html>